<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bible Olympics 2025 Tracker App</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f5f5f5; }
    header { text-align: center; padding: 1rem; background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    header img { height: 80px; vertical-align: middle; }
    header h1 { display: inline-block; margin-left: 0.5rem; font-size: 1.8rem; vertical-align: middle; }
    nav { background: #333; display: flex; justify-content: center; }
    nav button {
      background: none; border: none; color: white; padding: 1rem 2rem;
      cursor: pointer; font-size: 1rem;
    }
    nav button.active { background: #007acc; }
    section { display: none; padding: 2rem; max-width: 900px; margin: auto; }
    section.active { display: block; }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; align-items: center; }
    .form-grid label { font-weight: bold; }
    .form-grid input { padding: 0.5rem; width: 100%; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
    .event { margin-bottom: 1.5rem; }
    .event h3 { margin-bottom: 0.5rem; }
    .points { margin-top: 1rem; }
    .points li { margin: 0.2rem 0; }
    input[type="number"] { width: 60px; }
  </style>
</head>
<body>
  <header>
    <img src="olympics logo.png" alt="Bible Olympics Logo" />
    <h1>Bible Olympics 2025 Tracker App</h1>
  </header>

  <nav>
    <button onclick="switchTab('registration')" class="active">Team Registration</button>
    <button onclick="switchTab('scores')">Score Systems</button>
    <button onclick="switchTab('summary')">Event Summary</button>
  </nav>

  <section id="registration" class="active">
    <h2>Team Registration</h2>
    <form id="registrationForm">
      <div class="form-grid">
        <label for="teamName">Team Name</label>
        <input type="text" id="teamName" required />
        <label for="member1">Member 1 Name</label>
        <input type="text" id="member1" required />
        <label for="age1">Member 1 Age</label>
        <input type="number" id="age1" min="1" required />
        <label for="member2">Member 2 Name</label>
        <input type="text" id="member2" required />
        <label for="age2">Member 2 Age</label>
        <input type="number" id="age2" min="1" required />
        <label for="member3">Member 3 Name</label>
        <input type="text" id="member3" required />
        <label for="age3">Member 3 Age</label>
        <input type="number" id="age3" min="1" required />
      </div>
      <button type="submit" style="margin-top:1rem;">Add Team</button>
    </form>

    <table id="teamsTable">
      <thead>
        <tr><th>Team</th><th>Members (Age)</th><th>Actions</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <section id="scores">
    <h2>Score Systems</h2>
    <div class="event">
      <h3>Sword Drill Showdown</h3>
      <p>One runner per round races to find and read a called‑out verse from a closed Bible. 3 verses per team (9 total). Emphasizes Speed, Knowledge/Memory, Physical Agility, & Teamwork.</p>
    </div>
    <div class="event">
      <h3>Books of the Bible Relay</h3>
      <p>Teams race to place shuffled OT/NT book cards in correct order relay‑style. Emphasizes Speed, Knowledge/Memory, Physical Agility, & Teamwork.</p>
    </div>
    <div class="event">
      <h3>Bible Memorization</h3>
      <p>Teams work together to unscramble and write a memory verse, with bonus for perfect recitation. Emphasizes Speed, Accuracy (Knowledge), Movement, & Teamwork.</p>
    </div>
    <div class="event">
      <h3>Bible Trivia Questions</h3>
      <p>Seated players ring a bell to answer packet questions; correct buzz‑in earns points. Tests Fast Recall, Biblical Knowledge, Movement, & Teamwork.</p>
    </div>

    <!-- Score Inputs Table -->
    <table id="scoreTable">
      <thead>
        <tr>
          <th>Team</th>
          <th>Sword Drill</th>
          <th>Books Relay</th>
          <th>Memorization</th>
          <th>Trivia</th>
          <th>Bonus Spirit</th>
          <th>Bonus Knowledge</th>
          <th>Bonus Fastest</th>
          <th>Bonus Name</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="liveLeaderboard"></div>
  </section>

  <section id="summary">
    <h2>Event Summary</h2>
    <ul>
      <li><strong>Sword Drill Showdown:</strong> Race to locate and read verses fastest.</li>
      <li><strong>Books of the Bible Relay:</strong> Order OT/NT books relay-style under time pressure.</li>
      <li><strong>Bible Memorization:</strong> Unscramble and write verses; bonus for perfect recitation.</li>
      <li><strong>Bible Trivia Questions:</strong> Buzz in to answer questions quickly and accurately.</li>
    </ul>
  </section>

  <script>
    function switchTab(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
      document.querySelector(`nav button[onclick*="${id}"]`).classList.add('active');
    }

    // Load or initialize teams
    let teams = JSON.parse(localStorage.getItem('bibleTeams')) || [];
    teams = teams.map(t => {
      if (!t.scores) t.scores = {
        sword:0, relay:0, memo:0, trivia:0,
        bonusSpirit:0, bonusKnowledge:0, bonusFastest:0, bonusName:0,
        total:0
      };
      return t;
    });

    function saveTeams() {
      localStorage.setItem('bibleTeams', JSON.stringify(teams));
    }

    // Render Registration Table
    function renderRegistration() {
      const tbody = document.querySelector('#teamsTable tbody');
      tbody.innerHTML = '';
      teams.forEach((team, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${team.name}</td>
          <td>${team.members.map(m=>`${m.name} (${m.age})`).join(', ')}</td>
          <td><button onclick="deleteTeam(${i})">Delete</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function deleteTeam(index) {
      teams.splice(index,1);
      saveTeams();
      renderAll();
    }

    // Render Scores Inputs
    function renderScores() {
      const tbody = document.querySelector('#scoreTable tbody');
      tbody.innerHTML = '';
      teams.forEach((team,i) => {
        const s = team.scores;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${team.name}</td>
          <td><input type="number" min="0" value="${s.sword}" oninput="updateScoreField(${i},'sword',this.value)"></td>
          <td><input type="number" min="0" value="${s.relay}" oninput="updateScoreField(${i},'relay',this.value)"></td>
          <td><input type="number" min="0" value="${s.memo}" oninput="updateScoreField(${i},'memo',this.value)"></td>
          <td><input type="number" min="0" value="${s.trivia}" oninput="updateScoreField(${i},'trivia',this.value)"></td>
          <td><input type="number" min="0" value="${s.bonusSpirit}" oninput="updateScoreField(${i},'bonusSpirit',this.value)"></td>
          <td><input type="number" min="0" value="${s.bonusKnowledge}" oninput="updateScoreField(${i},'bonusKnowledge',this.value)"></td>
          <td><input type="number" min="0" value="${s.bonusFastest}" oninput="updateScoreField(${i},'bonusFastest',this.value)"></td>
          <td><input type="number" min="0" value="${s.bonusName}" oninput="updateScoreField(${i},'bonusName',this.value)"></td>
          <td>${s.total}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    function updateScoreField(teamIndex, field, val) {
      teams[teamIndex].scores[field] = parseInt(val) || 0;
      const sc = teams[teamIndex].scores;
      sc.total = sc.sword + sc.relay + sc.memo + sc.trivia + sc.bonusSpirit + sc.bonusKnowledge + sc.bonusFastest + sc.bonusName;
      saveTeams();
      renderScores();
      renderLeaderboard();
    }

    // Render Live Leaderboard
    function renderLeaderboard() {
      const container = document.getElementById('liveLeaderboard');
      const sorted = [...teams].sort((a,b) => b.scores.total - a.scores.total);
      let html = '<h3>Live Leaderboard</h3><ol>';
      sorted.forEach(t => html += `<li>${t.name}: ${t.scores.total} pts</li>`);
      html += '</ol>';
      container.innerHTML = html;
    }

    // Handle Registration Form
    document.getElementById('registrationForm').addEventListener('submit', e => {
      e.preventDefault();
      const newTeam = {
        name: document.getElementById('teamName').value.trim(),
        members: [
          { name: document.getElementById('member1').value.trim(), age: document.getElementById('age1').value },
          { name: document.getElementById('member2').value.trim(), age: document.getElementById('age2').value },
          { name: document.getElementById('member3').value.trim(), age: document.getElementById('age3').value }
        ],
        scores: { sword:0, relay:0, memo:0, trivia:0, bonusSpirit:0, bonusKnowledge:0, bonusFastest:0, bonusName:0, total:0 }
      };
      teams.push(newTeam);
      e.target.reset();
      saveTeams();
      renderAll();
    });

    // Render all sections
    function renderAll() {
      renderRegistration();
      renderScores();
      renderLeaderboard();
    }

    // Initial load
    renderAll();
  </script>
</body>
</html>
